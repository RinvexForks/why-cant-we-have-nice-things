{% extends '_layouts/layout.twig' %}
{% set title = user.name %}
{% set subtitle = user.name %}

{% block content %}
    <p class="lead text-center">
        This user has voted <strong>{{ user.total_votes }}</strong> times, and has been correct <strong>{{ percentage(user.hivemind) }}%</strong> of the time.
    </p>

    <table class="table table-condensed table-hover table-striped">
        <thead>
            <tr>
                <th>RFC</th>
                <th>Question</th>
                <th class="text-right">Voted</th>
                <th class="text-right">Approval %</th>
                <th class="text-right">Correct?</th>
            </tr>
        </thead>
        {% for vote in user.votes %}
            <tr>
                <td>
                    <a href="/requests/{{ vote.question.request.id }}">{{ vote.question.request.name }}</a>
                </td>
                <td>{{ vote.question.name }}</td>
                <td class="text-right">{{ vote.vote ? 'Yes' : 'No' }}</td>
                <td class="text-right">{{ percentage(vote.question.approval) }}%</td>
                <td class="text-right">{{ vote.question.passed == vote.vote ? 'Yes' : 'No' }}</td>
            </tr>
        {% endfor %}
    </table>
{% endblock %}
